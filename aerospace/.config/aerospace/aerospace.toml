config-version = 2
after-startup-command = ["exec-and-forget borders"]
start-at-login = true
enable-normalization-flatten-containers = true
enable-normalization-opposite-orientation-for-nested-containers = true
accordion-padding = 30
default-root-container-layout = "tiles"
default-root-container-orientation = "auto"
on-focused-monitor-changed = ["move-mouse monitor-lazy-center"]
automatically-unhide-macos-hidden-apps = false
persistent-workspaces = [
  "1",
  "2",
  "3",
  "A",
  "B",
  "C",
  "D",
  "E",
  "F",
  "G",
  "I",
  "M",
  "N",
  "O",
  "Q",
  "R",
  "S",
  "T",
  "U",
  "V",
  "W",
  "X",
  "Y",
  "Z"
]
on-mode-changed = []

[key-mapping]
preset = "qwerty"

[gaps]
inner.horizontal = 10
inner.vertical = 10
outer.left = 15
outer.bottom = 10
outer.top = 10
outer.right = 15

[mode.main.binding]
alt-slash = "layout tiles horizontal vertical"
alt-comma = "layout accordion horizontal vertical"
alt-h = "focus left"
alt-j = "focus down"
alt-k = "focus up"
alt-l = "focus right"
alt-shift-h = "move left"
alt-shift-j = "move down"
alt-shift-k = "move up"
alt-shift-l = "move right"
alt-minus = "resize smart -50"
alt-equal = "resize smart +50"
alt-1 = "workspace 1"
alt-2 = "workspace 2"
alt-3 = "workspace 3"
alt-a = "workspace A"
alt-b = "workspace B"
alt-c = "workspace C"
alt-d = "workspace D"
alt-e = "workspace E"
alt-f = "workspace F"
alt-g = "workspace G"
alt-i = "workspace I"
alt-m = "workspace M"
alt-n = "workspace N"
alt-o = "workspace O"
alt-q = "workspace Q"
alt-r = "workspace R"
alt-s = "workspace S"
alt-t = "workspace T"
alt-u = "workspace U"
alt-v = "workspace V"
alt-w = "workspace W"
alt-x = "workspace X"
alt-y = "workspace Y"
alt-z = "workspace Z"
# See: https://nikitabobko.github.io/AeroSpace/commands#move-node-to-workspace
alt-shift-1 = "move-node-to-workspace 1"
alt-shift-2 = "move-node-to-workspace 2"
alt-shift-3 = "move-node-to-workspace 3"
alt-shift-a = "move-node-to-workspace A"
alt-shift-b = "move-node-to-workspace B"
alt-shift-c = "move-node-to-workspace C"
alt-shift-d = "move-node-to-workspace D"
alt-shift-e = "move-node-to-workspace E"
alt-shift-f = "move-node-to-workspace F"
alt-shift-g = "move-node-to-workspace G"
alt-shift-i = "move-node-to-workspace I"
alt-shift-m = "move-node-to-workspace M"
alt-shift-n = "move-node-to-workspace N"
alt-shift-o = "move-node-to-workspace O"
alt-shift-q = "move-node-to-workspace Q"
alt-shift-r = "move-node-to-workspace R"
alt-shift-s = "move-node-to-workspace S"
alt-shift-t = "move-node-to-workspace T"
alt-shift-u = "move-node-to-workspace U"
alt-shift-v = "move-node-to-workspace V"
alt-shift-w = "move-node-to-workspace W"
alt-shift-x = "move-node-to-workspace X"
alt-shift-y = "move-node-to-workspace Y"
alt-shift-z = "move-node-to-workspace Z"
alt-shift-tab = "move-workspace-to-monitor --wrap-around next"
alt-shift-semicolon = "mode service"

# 'service' binding mode declaration.
# See: https://nikitabobko.github.io/AeroSpace/guide#binding-modes
[mode.service.binding]
esc = ["reload-config", "mode main"]
r = ["flatten-workspace-tree", "mode main"]  # reset layout
f = [
  "layout floating tiling",
  "mode main"
]  # Toggle between floating and tiling layout
backspace = ["close-all-windows-but-current", "mode main"]
x = ["enable toggle"]
alt-shift-h = ["join-with left", "mode main"]
alt-shift-j = ["join-with down", "mode main"]
alt-shift-k = ["join-with up", "mode main"]
alt-shift-l = ["join-with right", "mode main"]

[workspace-to-monitor-force-assignment]
# Workspace 1-3 is for the moniors
1 = 1
2 = 2
3 = 3
# Code always on the left
C = 1
# Work always on the right
W = 2

# Picture-in-picture windows float
[[on-window-detected]]
if.window-title-regex-substring = "Picture-in-picture"
run = "layout floating"

# Float Bitwarden Safari windows (Passkey selection)
[[on-window-detected]]
if.app-id = "com.apple.Safari"
if.window-title-regex-substring = "Bitwarden"
run = "layout floating"
check-further-callbacks = false

# Safari windows to workspace B
[[on-window-detected]]
if.app-id = "com.apple.Safari"
run = "move-node-to-workspace B"

# VSCode windows to workspace C
[[on-window-detected]]
if.app-id = "com.microsoft.VSCode"
run = ["move-node-to-workspace C", "layout v_accordion"]

# Zed settings windows float
[[on-window-detected]]
if.app-id = "dev.zed.Zed"
if.window-title-regex-substring = "(Zed . Settings|Rules Library)"
run = "layout floating"
check-further-callbacks = false

# Zed windows to workspace C
[[on-window-detected]]
if.app-id = "dev.zed.Zed"
run = ["move-node-to-workspace C", "layout v_accordion"]

# Ghostty terminal windows to workspace T
[[on-window-detected]]
if.app-id = "com.mitchellh.ghostty"
run = "move-node-to-workspace T"

# Finder windows float
[[on-window-detected]]
if.app-id = "com.apple.finder"
run = ["move-node-to-workspace F"]

# Telegram windows float
[[on-window-detected]]
if.app-name-regex-substring = "telegram"
run = ["move-node-to-workspace S", "layout v_accordion"]

# Activity Monitor windows float
[[on-window-detected]]
if.app-id = "com.apple.ActivityMonitor"
run = "layout floating"

[[on-window-detected]]
if.app-id = "com.microsoft.Outlook"
run = "move-node-to-workspace W"

# Meeting windows automatically float
[[on-window-detected]]
if.app-id = "com.microsoft.teams2"
if.window-title-regex-substring = "(Meeting|Call|Screen Share|Share)"
run = ["layout floating"]
check-further-callbacks = false

# Dialog windows float
[[on-window-detected]]
if.app-id = "com.microsoft.teams2"
if.window-title-regex-substring = "(Settings|Options|Preferences|Join|Audio|Video)"
run = ["layout floating"]
check-further-callbacks = false

# Teams main window to workspace W
[[on-window-detected]]
if.app-id = "com.microsoft.teams2"
run = "move-node-to-workspace W"

# Logseq to workspace Q
[[on-window-detected]]
if.app-id = "com.electron.logseq"
run = "move-node-to-workspace Q"

# Float Facetime windows
[[on-window-detected]]
if.app-id = "com.apple.FaceTime"
run = "layout floating"
check-further-callbacks = false

# Float Logi Options+
[[on-window-detected]]
if.app-id = "com.logi.cp-dev-mgr"
run = "layout floating"

# Float CoconutBattery
[[on-window-detected]]
if.app-id = "com.coconut-flavour.coconutBattery"
run = "layout floating"

# Float the main window of Windows App
[[on-window-detected]]
if.app-id = "com.microsoft.rdc.macos"
if.window-title-regex-substring = "Devices"
run = ["move-node-to-workspace R", "layout floating"]
check-further-callbacks = false

# Accordian the connection windows
[[on-window-detected]]
if.app-id = "com.microsoft.rdc.macos"
run = ["move-node-to-workspace R", "layout v_accordion"]

# Float DaisyDisk windows
[[on-window-detected]]
if.app-id = "com.daisydiskapp.DaisyDiskStandAlone"
run = ["layout floating"]

# Float Compressor windows
[[on-window-detected]]
if.app-id = "com.apple.CompressorApp"
run = ["layout floating"]
